FROM vicanso/node

MAINTAINER "vicansocanbico@gmail.com"


ENV ZMQ_VERSION 4.1.3

RUN apt-get update \
  && apt-get install libtool pkg-config build-essential autoconf automake python -y \
  && apt-get install libzmq-dev -y \
  && cd \tmp \
  && curl -o libsodium-1.0.3.tar.gz  https://codeload.github.com/jedisct1/libsodium/tar.gz/1.0.3 \
  && tar -xzvf libsodium-1.0.3.tar.gz \
  && cd libsodium-1.0.3 && ./autogen.sh && ./configure \
  && make install && ldconfig \
  && cd /tmp && curl -o zeromq-$ZMQ_VERSION.tar.gz http://download.zeromq.org/zeromq-$ZMQ_VERSION.tar.gz \
  && tar -xzvf zeromq-$ZMQ_VERSION.tar.gz \
  && cd zeromq-$ZMQ_VERSION && ./autogen.sh && ./configure \
  && make install \
  && cd /tmp && curl -o node-v$NODE_VERSION.tar.gz https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION.tar.gz \
  && tar -xzvf node-v$NODE_VERSION.tar.gz && cd node-v$NODE_VERSION && ./configure && make install \
  && rm /tmp/* -rf
